# 定时任务示例

本目录包含定时触发的工作流示例。

## 文件说明

### cron-job.yaml
Cron 定时任务：
- 使用标准 Cron 表达式
- 定时数据收集
- 日志记录

### interval-task.yaml
间隔执行任务：
- 固定间隔触发
- 健康检查
- 自动重试

## Cron 表达式说明

```
┌───────────── 分钟 (0-59)
│ ┌───────────── 小时 (0-23)
│ │ ┌───────────── 日期 (1-31)
│ │ │ ┌───────────── 月份 (1-12)
│ │ │ │ ┌───────────── 星期 (0-6, 0=周日)
│ │ │ │ │
* * * * *
```

### 常用表达式

| 表达式 | 说明 |
|--------|------|
| `* * * * *` | 每分钟 |
| `*/5 * * * *` | 每5分钟 |
| `0 * * * *` | 每小时整点 |
| `0 9 * * *` | 每天早上9点 |
| `0 9 * * 1-5` | 工作日早上9点 |
| `0 0 * * 0` | 每周日午夜 |
| `0 0 1 * *` | 每月1号午夜 |

## Timer 节点配置

### Cron 模式

```yaml
- name: "ScheduledTrigger"
  type: "timer"
  parameters:
    mode: "cron"
    cron: "0 9 * * 1-5"  # 工作日早上9点
    timezone: "Asia/Shanghai"
```

### 间隔模式

```yaml
- name: "IntervalTrigger"
  type: "timer"
  parameters:
    mode: "interval"
    intervalSeconds: 300  # 每5分钟
```

## 注意事项

1. 定时任务需要服务器持续运行
2. 服务器重启后会自动加载定时任务
3. 建议为定时任务添加日志和告警
4. 考虑任务执行时间，避免重叠执行
